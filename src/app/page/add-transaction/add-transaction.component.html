<div class="loading" *ngIf="loading">
    <!-- <mat-spinner style="margin:0 auto;"  mode="indeterminate"></mat-spinner> -->
    <img style="width: 150px; backdrop-filter: blur(0px); position: absolute; margin: auto; top: 0; left: 0; right: 0; bottom: 0;" src="assets/loading.svg" alt="Loading...">
</div>

<mat-form-field class="form-field">
    <mat-label>Pilih tipe</mat-label>
    <mat-select [(ngModel)]="tipe" name="tipe" class="mat-select" (selectionChange)="getCategory($event.value)">
        <mat-option value="1">Pengeluaran</mat-option>
        <mat-option value="0">Pemasukan</mat-option>
    </mat-select>
</mat-form-field>
<mat-form-field class="form-field">
    <mat-label>Pilih kategori</mat-label>
    <mat-select [(ngModel)]="kategori" name="kategori" class="mat-select">
        <mat-option *ngFor="let item of dataCategory" [value]="item.categoryID">
            {{ item.categoryDescription }}
        </mat-option>
    </mat-select>
</mat-form-field>
<mat-form-field class="form-field">
    <mat-label>Deskripsi</mat-label>
    <input matInput type="text" [(ngModel)]="desc" name="desc" autocomplete="off">
</mat-form-field>
<!-- <mat-form-field class="form-field">
    <mat-label>Nominal</mat-label>
    <input matInput type="number" [(ngModel)]="nominal" (input)="separatorProcess()" name="nominal" autocomplete="off">
    <mat-hint>Rp. {{result}}</mat-hint>
</mat-form-field> -->
<mat-form-field class="form-field">
    <mat-label>Nominal</mat-label>
    <input matInput 
           type="text" 
           [value]="formatCurrency(nominal)" 
           (input)="onInputChange($event)" 
           name="nominal" 
           autocomplete="off"
           inputmode="numeric"
           pattern="[0-9]*">
</mat-form-field>
  
<table width="100%" class="mt-10">
    <tr>
        <td width="50%">
            <button (click)="onNoClick()" mat-stroked-button color="warn" class="btn-block">Batal</button>
        </td>
        <td width="50%">
            <button (click)="save()" mat-stroked-button color="primary" class="btn-block">Simpan</button>
        </td>
    </tr>
</table>
